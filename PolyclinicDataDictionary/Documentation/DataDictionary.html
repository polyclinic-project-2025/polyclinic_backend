
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Diccionario de Datos - Polyclinic</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #4CAF50; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        h1 { color: #333; }
        h2 { color: #4CAF50; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; }
        h3 { color: #666; }
        code { background-color: #f4f4f4; padding: 2px 6px; border-radius: 3px; }
    </style>
</head>
<body>
    <pre># Diccionario de Datos - Sistema Polyclinic

**Generado:** 2025-12-15 02:30:39

---

## Tabla de Contenidos

- [ConsultationDerivation](#consultationderivation)
- [ConsultationReferral](#consultationreferral)
- [Department](#department)
- [DepartmentHead](#departmenthead)
- [Derivation](#derivation)
- [Doctor](#doctor)
- [EmergencyRoom](#emergencyroom)
- [EmergencyRoomCare](#emergencyroomcare)
- [Employee](#employee)
- [ExternalMedicalPost](#externalmedicalpost)
- [Medication](#medication)
- [MedicationDerivation](#medicationderivation)
- [MedicationEmergency](#medicationemergency)
- [MedicationReferral](#medicationreferral)
- [MedicationRequest](#medicationrequest)
- [Nurse](#nurse)
- [Patient](#patient)
- [Referral](#referral)
- [StockDepartment](#stockdepartment)
- [WarehouseManager](#warehousemanager)
- [WarehouseRequest](#warehouserequest)

---

## ConsultationDerivation

**Clase:** `ConsultationDerivation`
**Esquema:** `public`
**Tabla:** `ConsultationDerivation`

### Descripci&#243;n
Consultas realizadas a pacientes derivados.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| ConsultationDerivationId | uuid | No | ✓ |  | Identificador de ConsultationDerivation |
| DateTimeCDer | timestamp with time zone | No |  |  | DateTimeCDer |
| DepartmentHeadId | uuid | No |  | ✓ | Identificador de DepartmentHead |
| DerivationId | uuid | No |  | ✓ | Identificador de Derivation |
| Diagnosis | character varying(1000) | No |  |  | Diagnosis (Max: 1000) |
| DoctorId | uuid | No |  | ✓ | Identificador de Doctor |
| PatientId | uuid | S&#237; |  | ✓ | Identificador de Patient |

### Clave Primaria

- **Nombre:** `PK_ConsultationDerivation`
- **Columnas:** `ConsultationDerivationId`

### Claves For&#225;neas

- **FK_ConsultationDerivation_DepartmentHead_DepartmentHeadId**
  - Columnas: `DepartmentHeadId`
  - Referencia: `DepartmentHead` (`DepartmentHeadId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_ConsultationDerivation_Derivation_DerivationId**
  - Columnas: `DerivationId`
  - Referencia: `Derivation` (`DerivationId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_ConsultationDerivation_Doctor_DoctorId**
  - Columnas: `DoctorId`
  - Referencia: `Doctor` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_ConsultationDerivation_Patient_PatientId**
  - Columnas: `PatientId`
  - Referencia: `Patient` (`PatientId`)
  - Acci&#243;n al eliminar: `ClientSetNull`

### &#205;ndices

- **IX_ConsultationDerivation_DepartmentHeadId**
  - Columnas: `DepartmentHeadId`
  - Tipo: No &#250;nico

- **IX_ConsultationDerivation_DerivationId**
  - Columnas: `DerivationId`
  - Tipo: No &#250;nico

- **IX_ConsultationDerivation_PatientId**
  - Columnas: `PatientId`
  - Tipo: No &#250;nico

- **IX_ConsultationDerivation_DoctorId_DerivationId_DateTimeCDer**
  - Columnas: `DoctorId`, `DerivationId`, `DateTimeCDer`
  - Tipo: &#218;nico

### Relaciones

- **DepartmentHead** → `DepartmentHead` (Muchos a Uno)
- **Derivation** → `Derivation` (Muchos a Uno)
- **Doctor** → `Doctor` (Muchos a Uno)
- **MedicationDerivations** → `MedicationDerivation` (Uno a Muchos)

---

## ConsultationReferral

**Clase:** `ConsultationReferral`
**Esquema:** `public`
**Tabla:** `ConsultationReferral`

### Descripci&#243;n
Consultas realizadas a pacientes remitidos.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| ConsultationReferralId | uuid | No | ✓ |  | Identificador de ConsultationReferral |
| DateTimeCRem | timestamp with time zone | No |  |  | Fecha y hora de la consulta |
| DepartmentHeadId | uuid | No |  | ✓ | Identificador de DepartmentHead |
| Diagnosis | character varying(1000) | No |  |  | Diagn&#243;stico de la consulta (Max: 1000) |
| DoctorId | uuid | No |  | ✓ | Identificador de Doctor |
| PatientId | uuid | S&#237; |  | ✓ | Identificador de Patient |
| ReferralId | uuid | No |  | ✓ | Identificador de Referral |

### Clave Primaria

- **Nombre:** `PK_ConsultationReferral`
- **Columnas:** `ConsultationReferralId`

### Claves For&#225;neas

- **FK_ConsultationReferral_DepartmentHead_DepartmentHeadId**
  - Columnas: `DepartmentHeadId`
  - Referencia: `DepartmentHead` (`DepartmentHeadId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_ConsultationReferral_Doctor_DoctorId**
  - Columnas: `DoctorId`
  - Referencia: `Doctor` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_ConsultationReferral_Patient_PatientId**
  - Columnas: `PatientId`
  - Referencia: `Patient` (`PatientId`)
  - Acci&#243;n al eliminar: `ClientSetNull`

- **FK_ConsultationReferral_Referral_ReferralId**
  - Columnas: `ReferralId`
  - Referencia: `Referral` (`ReferralId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_ConsultationReferral_DepartmentHeadId**
  - Columnas: `DepartmentHeadId`
  - Tipo: No &#250;nico

- **IX_ConsultationReferral_PatientId**
  - Columnas: `PatientId`
  - Tipo: No &#250;nico

- **IX_ConsultationReferral_ReferralId**
  - Columnas: `ReferralId`
  - Tipo: No &#250;nico

- **IX_ConsultationReferral_DoctorId_ReferralId_DateTimeCRem**
  - Columnas: `DoctorId`, `ReferralId`, `DateTimeCRem`
  - Tipo: &#218;nico

### Relaciones

- **DepartmentHead** → `DepartmentHead` (Muchos a Uno)
- **Doctor** → `Doctor` (Muchos a Uno)
- **MedicationReferrals** → `MedicationReferral` (Uno a Muchos)
- **Referral** → `Referral` (Muchos a Uno)

---

## Department

**Clase:** `Department`
**Esquema:** `public`
**Tabla:** `Department`

### Descripci&#243;n
Cat&#225;logo de departamentos m&#233;dicos.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| DepartmentId | uuid | No | ✓ |  | Identificador de Department |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |

### Clave Primaria

- **Nombre:** `PK_Department`
- **Columnas:** `DepartmentId`

### Relaciones

- **DepartmentHeads** → `DepartmentHead` (Uno a Muchos)
- **DerivationsFrom** → `Derivation` (Uno a Muchos)
- **DerivationsTo** → `Derivation` (Uno a Muchos)
- **Doctors** → `Doctor` (Uno a Muchos)
- **Referrals** → `Referral` (Uno a Muchos)
- **StockDepartments** → `StockDepartment` (Uno a Muchos)
- **WarehouseRequests** → `WarehouseRequest` (Uno a Muchos)

---

## DepartmentHead

**Clase:** `DepartmentHead`
**Esquema:** `public`
**Tabla:** `DepartmentHead`

### Descripci&#243;n
Asignaci&#243;n de jefes de departamento.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| DepartmentHeadId | uuid | No | ✓ |  | Identificador de DepartmentHead |
| AssignedAt | timestamp with time zone | No |  |  | AssignedAt |
| DepartmentId | uuid | No |  | ✓ | Identificador de Department |
| DoctorId | uuid | No |  | ✓ | Identificador de Doctor |

### Clave Primaria

- **Nombre:** `PK_DepartmentHead`
- **Columnas:** `DepartmentHeadId`

### Claves For&#225;neas

- **FK_DepartmentHead_Department_DepartmentId**
  - Columnas: `DepartmentId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_DepartmentHead_Doctor_DoctorId**
  - Columnas: `DoctorId`
  - Referencia: `Doctor` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_DepartmentHead_DepartmentId**
  - Columnas: `DepartmentId`
  - Tipo: No &#250;nico

- **IX_DepartmentHead_DoctorId**
  - Columnas: `DoctorId`
  - Tipo: No &#250;nico

### Relaciones

- **ConsultationDerivations** → `ConsultationDerivation` (Uno a Muchos)
- **ConsultationReferrals** → `ConsultationReferral` (Uno a Muchos)
- **Department** → `Department` (Muchos a Uno)
- **Doctor** → `Doctor` (Muchos a Uno)
- **WarehouseRequests** → `WarehouseRequest` (Uno a Muchos)

---

## Derivation

**Clase:** `Derivation`
**Esquema:** `public`
**Tabla:** `Derivation`

### Descripci&#243;n
Registra derivaciones entre departamentos internos.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| DerivationId | uuid | No | ✓ |  | Identificador de Derivation |
| DateTimeDer | timestamp with time zone | No |  |  | Fecha y hora de la derivaci&#243;n |
| DepartmentFromId | uuid | No |  | ✓ | Identificador de DepartmentFrom |
| DepartmentToId | uuid | No |  | ✓ | Identificador de DepartmentTo |
| PatientId | uuid | No |  | ✓ | Identificador de Patient |

### Clave Primaria

- **Nombre:** `PK_Derivation`
- **Columnas:** `DerivationId`

### Claves For&#225;neas

- **FK_Derivation_Department_DepartmentFromId**
  - Columnas: `DepartmentFromId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_Derivation_Department_DepartmentToId**
  - Columnas: `DepartmentToId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_Derivation_Patient_PatientId**
  - Columnas: `PatientId`
  - Referencia: `Patient` (`PatientId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_Derivation_DepartmentToId**
  - Columnas: `DepartmentToId`
  - Tipo: No &#250;nico

- **IX_Derivation_PatientId**
  - Columnas: `PatientId`
  - Tipo: No &#250;nico

- **IX_Derivation_DepartmentFromId_DateTimeDer_PatientId**
  - Columnas: `DepartmentFromId`, `DateTimeDer`, `PatientId`
  - Tipo: &#218;nico

### Relaciones

- **ConsultationDerivations** → `ConsultationDerivation` (Uno a Muchos)
- **DepartmentFrom** → `Department` (Muchos a Uno)
- **DepartmentTo** → `Department` (Muchos a Uno)
- **Patient** → `Patient` (Muchos a Uno)

---

## Doctor

**Clase:** `Doctor`
**Esquema:** `public`
**Tabla:** `Doctor`

### Descripci&#243;n
Registra datos de los m&#233;dicos empleados.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| EmployeeId | uuid | No | ✓ | ✓ | Identificador de Employee |
| DepartmentId | uuid | No |  | ✓ | Identificador de Department |
| EmploymentStatus | character varying(50) | No |  |  | EmploymentStatus (Max: 50) |
| Identification | character varying(50) | No |  |  | N&#250;mero de identificaci&#243;n (Max: 50) |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |
| UserId | text | S&#237; |  | ✓ | Identificador de User |

### Clave Primaria

- **Nombre:** `PK_Employee`
- **Columnas:** `EmployeeId`

### Claves For&#225;neas

- **FK_Employee_Users_UserId**
  - Columnas: `UserId`
  - Referencia: `Users` (`Id`)
  - Acci&#243;n al eliminar: `SetNull`

- **FK_Doctor_Department_DepartmentId**
  - Columnas: `DepartmentId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_Doctor_Employee_EmployeeId**
  - Columnas: `EmployeeId`
  - Referencia: `Employee` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Cascade`

### &#205;ndices

- **IX_Employee_Identification**
  - Columnas: `Identification`
  - Tipo: &#218;nico

- **IX_Employee_UserId**
  - Columnas: `UserId`
  - Tipo: &#218;nico

- **IX_Doctor_DepartmentId**
  - Columnas: `DepartmentId`
  - Tipo: No &#250;nico

### Relaciones

- **ConsultationDerivations** → `ConsultationDerivation` (Uno a Muchos)
- **ConsultationReferrals** → `ConsultationReferral` (Uno a Muchos)
- **Department** → `Department` (Muchos a Uno)
- **DepartmentHeads** → `DepartmentHead` (Uno a Muchos)
- **EmergencyRooms** → `EmergencyRoom` (Uno a Muchos)

---

## EmergencyRoom

**Clase:** `EmergencyRoom`
**Esquema:** `public`
**Tabla:** `EmergencyRoom`

### Descripci&#243;n
Guardias de emergencias asignadas a m&#233;dicos.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| EmergencyRoomId | uuid | No | ✓ |  | Identificador de EmergencyRoom |
| DoctorId | uuid | No |  | ✓ | Identificador de Doctor |
| GuardDate | date | No |  |  | GuardDate |

### Clave Primaria

- **Nombre:** `PK_EmergencyRoom`
- **Columnas:** `EmergencyRoomId`

### Claves For&#225;neas

- **FK_EmergencyRoom_Doctor_DoctorId**
  - Columnas: `DoctorId`
  - Referencia: `Doctor` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_EmergencyRoom_DoctorId_GuardDate**
  - Columnas: `DoctorId`, `GuardDate`
  - Tipo: &#218;nico

### Relaciones

- **Doctor** → `Doctor` (Muchos a Uno)
- **EmergencyRoomCares** → `EmergencyRoomCare` (Uno a Muchos)

---

## EmergencyRoomCare

**Clase:** `EmergencyRoomCare`
**Esquema:** `public`
**Tabla:** `EmergencyRoomCare`

### Descripci&#243;n
Atenciones realizadas en emergencias.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| EmergencyRoomCareId | uuid | No | ✓ |  | Identificador de EmergencyRoomCare |
| CareDate | timestamp with time zone | No |  |  | CareDate |
| Diagnosis | character varying(1000) | No |  |  | Diagnosis (Max: 1000) |
| EmergencyRoomId | uuid | No |  | ✓ | Identificador de EmergencyRoom |
| PatientId | uuid | No |  | ✓ | Identificador de Patient |

### Clave Primaria

- **Nombre:** `PK_EmergencyRoomCare`
- **Columnas:** `EmergencyRoomCareId`

### Claves For&#225;neas

- **FK_EmergencyRoomCare_EmergencyRoom_EmergencyRoomId**
  - Columnas: `EmergencyRoomId`
  - Referencia: `EmergencyRoom` (`EmergencyRoomId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_EmergencyRoomCare_Patient_PatientId**
  - Columnas: `PatientId`
  - Referencia: `Patient` (`PatientId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_EmergencyRoomCare_EmergencyRoomId**
  - Columnas: `EmergencyRoomId`
  - Tipo: No &#250;nico

- **IX_EmergencyRoomCare_PatientId**
  - Columnas: `PatientId`
  - Tipo: No &#250;nico

- **IX_EmergencyRoomCare_CareDate_PatientId**
  - Columnas: `CareDate`, `PatientId`
  - Tipo: &#218;nico

### Relaciones

- **EmergencyRoom** → `EmergencyRoom` (Muchos a Uno)
- **MedicationEmergencies** → `MedicationEmergency` (Uno a Muchos)
- **Patient** → `Patient` (Muchos a Uno)

---

## Employee

**Clase:** `Employee`
**Esquema:** `public`
**Tabla:** `Employee`

### Descripci&#243;n
Tabla base para todos los empleados del sistema.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| EmployeeId | uuid | No | ✓ | ✓ | Identificador de Employee |
| EmploymentStatus | character varying(50) | No |  |  | Estado laboral del empleado (Max: 50) |
| Identification | character varying(50) | No |  |  | N&#250;mero de identificaci&#243;n (Max: 50) |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |
| UserId | text | S&#237; |  | ✓ | Identificador de User |

### Clave Primaria

- **Nombre:** `PK_Employee`
- **Columnas:** `EmployeeId`

### Claves For&#225;neas

- **FK_Employee_Users_UserId**
  - Columnas: `UserId`
  - Referencia: `Users` (`Id`)
  - Acci&#243;n al eliminar: `SetNull`

### &#205;ndices

- **IX_Employee_Identification**
  - Columnas: `Identification`
  - Tipo: &#218;nico

- **IX_Employee_UserId**
  - Columnas: `UserId`
  - Tipo: &#218;nico

---

## ExternalMedicalPost

**Clase:** `ExternalMedicalPost`
**Esquema:** `public`
**Tabla:** `ExternalMedicalPost`

### Descripci&#243;n
Puestos m&#233;dicos externos que remiten pacientes.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| ExternalMedicalPostId | uuid | No | ✓ |  | Identificador de ExternalMedicalPost |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |

### Clave Primaria

- **Nombre:** `PK_ExternalMedicalPost`
- **Columnas:** `ExternalMedicalPostId`

---

## Medication

**Clase:** `Medication`
**Esquema:** `public`
**Tabla:** `Medication`

### Descripci&#243;n
Cat&#225;logo de medicamentos disponibles.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| MedicationId | uuid | No | ✓ |  | Identificador de Medication |
| BatchNumber | character varying(100) | No |  |  | N&#250;mero de lote (Max: 100) |
| CommercialCompany | character varying(100) | No |  |  | CommercialCompany (Max: 100) |
| CommercialName | character varying(100) | No |  |  | CommercialName (Max: 100) |
| ExpirationDate | date | No |  |  | Fecha de vencimiento del medicamento |
| Format | character varying(100) | No |  |  | Format (Max: 100) |
| MaxQuantityNurse | integer | No |  |  | MaxQuantityNurse |
| MaxQuantityWarehouse | integer | No |  |  | MaxQuantityWarehouse |
| MinQuantityNurse | integer | No |  |  | MinQuantityNurse |
| MinQuantityWarehouse | integer | No |  |  | MinQuantityWarehouse |
| QuantityNurse | integer | No |  |  | Cantidad disponible en enfermer&#237;a |
| QuantityWarehouse | integer | No |  |  | QuantityWarehouse |
| ScientificName | character varying(100) | No |  |  | ScientificName (Max: 100) |

### Clave Primaria

- **Nombre:** `PK_Medication`
- **Columnas:** `MedicationId`

### Relaciones

- **MedicationDerivations** → `MedicationDerivation` (Uno a Muchos)
- **MedicationEmergencies** → `MedicationEmergency` (Uno a Muchos)
- **MedicationReferrals** → `MedicationReferral` (Uno a Muchos)
- **MedicationRequests** → `MedicationRequest` (Uno a Muchos)
- **StockDepartments** → `StockDepartment` (Uno a Muchos)

---

## MedicationDerivation

**Clase:** `MedicationDerivation`
**Esquema:** `public`
**Tabla:** `MedicationDerivation`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| MedicationDerivationId | uuid | No | ✓ |  | Identificador de MedicationDerivation |
| ConsultationDerivationId | uuid | No |  | ✓ | Identificador de ConsultationDerivation |
| MedicationId | uuid | No |  | ✓ | Identificador de Medication |
| Quantity | integer | No |  |  | Quantity |

### Clave Primaria

- **Nombre:** `PK_MedicationDerivation`
- **Columnas:** `MedicationDerivationId`

### Claves For&#225;neas

- **FK_MedicationDerivation_ConsultationDerivation_ConsultationDer~**
  - Columnas: `ConsultationDerivationId`
  - Referencia: `ConsultationDerivation` (`ConsultationDerivationId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_MedicationDerivation_Medication_MedicationId**
  - Columnas: `MedicationId`
  - Referencia: `Medication` (`MedicationId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_MedicationDerivation_MedicationId**
  - Columnas: `MedicationId`
  - Tipo: No &#250;nico

- **IX_MedicationDerivation_ConsultationDerivationId_MedicationId**
  - Columnas: `ConsultationDerivationId`, `MedicationId`
  - Tipo: &#218;nico

### Relaciones

- **ConsultationDerivation** → `ConsultationDerivation` (Muchos a Uno)
- **Medication** → `Medication` (Muchos a Uno)

---

## MedicationEmergency

**Clase:** `MedicationEmergency`
**Esquema:** `public`
**Tabla:** `MedicationEmergency`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| MedicationEmergencyId | uuid | No | ✓ |  | Identificador de MedicationEmergency |
| EmergencyRoomCareId | uuid | No |  | ✓ | Identificador de EmergencyRoomCare |
| MedicationId | uuid | No |  | ✓ | Identificador de Medication |
| Quantity | integer | No |  |  | Quantity |

### Clave Primaria

- **Nombre:** `PK_MedicationEmergency`
- **Columnas:** `MedicationEmergencyId`

### Claves For&#225;neas

- **FK_MedicationEmergency_EmergencyRoomCare_EmergencyRoomCareId**
  - Columnas: `EmergencyRoomCareId`
  - Referencia: `EmergencyRoomCare` (`EmergencyRoomCareId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_MedicationEmergency_Medication_MedicationId**
  - Columnas: `MedicationId`
  - Referencia: `Medication` (`MedicationId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_MedicationEmergency_MedicationId**
  - Columnas: `MedicationId`
  - Tipo: No &#250;nico

- **IX_MedicationEmergency_EmergencyRoomCareId_MedicationId**
  - Columnas: `EmergencyRoomCareId`, `MedicationId`
  - Tipo: &#218;nico

### Relaciones

- **EmergencyRoomCare** → `EmergencyRoomCare` (Muchos a Uno)
- **Medication** → `Medication` (Muchos a Uno)

---

## MedicationReferral

**Clase:** `MedicationReferral`
**Esquema:** `public`
**Tabla:** `MedicationReferral`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| MedicationReferralId | uuid | No | ✓ |  | Identificador de MedicationReferral |
| ConsultationReferralId | uuid | No |  | ✓ | Identificador de ConsultationReferral |
| MedicationId | uuid | No |  | ✓ | Identificador de Medication |
| Quantity | integer | No |  |  | Quantity |

### Clave Primaria

- **Nombre:** `PK_MedicationReferral`
- **Columnas:** `MedicationReferralId`

### Claves For&#225;neas

- **FK_MedicationReferral_ConsultationReferral_ConsultationReferra~**
  - Columnas: `ConsultationReferralId`
  - Referencia: `ConsultationReferral` (`ConsultationReferralId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_MedicationReferral_Medication_MedicationId**
  - Columnas: `MedicationId`
  - Referencia: `Medication` (`MedicationId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_MedicationReferral_MedicationId**
  - Columnas: `MedicationId`
  - Tipo: No &#250;nico

- **IX_MedicationReferral_ConsultationReferralId_MedicationId**
  - Columnas: `ConsultationReferralId`, `MedicationId`
  - Tipo: &#218;nico

### Relaciones

- **ConsultationReferral** → `ConsultationReferral` (Muchos a Uno)
- **Medication** → `Medication` (Muchos a Uno)

---

## MedicationRequest

**Clase:** `MedicationRequest`
**Esquema:** `public`
**Tabla:** `MedicationRequest`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| MedicationRequestId | uuid | No | ✓ |  | Identificador de MedicationRequest |
| MedicationId | uuid | No |  | ✓ | Identificador de Medication |
| Quantity | integer | No |  |  | Quantity |
| WarehouseRequestId | uuid | No |  | ✓ | Identificador de WarehouseRequest |

### Clave Primaria

- **Nombre:** `PK_MedicationRequest`
- **Columnas:** `MedicationRequestId`

### Claves For&#225;neas

- **FK_MedicationRequest_Medication_MedicationId**
  - Columnas: `MedicationId`
  - Referencia: `Medication` (`MedicationId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_MedicationRequest_WarehouseRequest_WarehouseRequestId**
  - Columnas: `WarehouseRequestId`
  - Referencia: `WarehouseRequest` (`WarehouseRequestId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_MedicationRequest_MedicationId**
  - Columnas: `MedicationId`
  - Tipo: No &#250;nico

- **IX_MedicationRequest_WarehouseRequestId_MedicationId**
  - Columnas: `WarehouseRequestId`, `MedicationId`
  - Tipo: &#218;nico

### Relaciones

- **Medication** → `Medication` (Muchos a Uno)
- **WarehouseRequest** → `WarehouseRequest` (Muchos a Uno)

---

## Nurse

**Clase:** `Nurse`
**Esquema:** `public`
**Tabla:** `Nurse`

### Descripci&#243;n
Registra datos de enfermeros empleados.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| EmployeeId | uuid | No | ✓ | ✓ | Identificador de Employee |
| EmploymentStatus | character varying(50) | No |  |  | EmploymentStatus (Max: 50) |
| Identification | character varying(50) | No |  |  | N&#250;mero de identificaci&#243;n (Max: 50) |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |
| UserId | text | S&#237; |  | ✓ | Identificador de User |

### Clave Primaria

- **Nombre:** `PK_Employee`
- **Columnas:** `EmployeeId`

### Claves For&#225;neas

- **FK_Employee_Users_UserId**
  - Columnas: `UserId`
  - Referencia: `Users` (`Id`)
  - Acci&#243;n al eliminar: `SetNull`

- **FK_Nurse_Employee_EmployeeId**
  - Columnas: `EmployeeId`
  - Referencia: `Employee` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Cascade`

### &#205;ndices

- **IX_Employee_Identification**
  - Columnas: `Identification`
  - Tipo: &#218;nico

- **IX_Employee_UserId**
  - Columnas: `UserId`
  - Tipo: &#218;nico

---

## Patient

**Clase:** `Patient`
**Esquema:** `public`
**Tabla:** `Patient`

### Descripci&#243;n
Almacena informaci&#243;n de los pacientes del sistema.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| PatientId | uuid | No | ✓ |  | Identificador de Patient |
| Address | character varying(500) | No |  |  | Direcci&#243;n de residencia (Max: 500) |
| Age | integer | No |  |  | Edad del paciente |
| Contact | character varying(100) | No |  |  | Informaci&#243;n de contacto (Max: 100) |
| Identification | character varying(50) | No |  |  | N&#250;mero de identificaci&#243;n (Max: 50) |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |
| UserId | text | S&#237; |  | ✓ | Identificador de User |

### Clave Primaria

- **Nombre:** `PK_Patient`
- **Columnas:** `PatientId`

### Claves For&#225;neas

- **FK_Patient_Users_UserId**
  - Columnas: `UserId`
  - Referencia: `Users` (`Id`)
  - Acci&#243;n al eliminar: `SetNull`

### &#205;ndices

- **IX_Patient_Identification**
  - Columnas: `Identification`
  - Tipo: &#218;nico

- **IX_Patient_UserId**
  - Columnas: `UserId`
  - Tipo: &#218;nico

### Relaciones

- **ConsultationDerivations** → `ConsultationDerivation` (Uno a Muchos)
- **ConsultationReferrals** → `ConsultationReferral` (Uno a Muchos)
- **Derivations** → `Derivation` (Uno a Muchos)
- **EmergencyRoomCares** → `EmergencyRoomCare` (Uno a Muchos)
- **Referrals** → `Referral` (Uno a Muchos)

---

## Referral

**Clase:** `Referral`
**Esquema:** `public`
**Tabla:** `Referral`

### Descripci&#243;n
Registra remisiones desde puestos m&#233;dicos externos.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| ReferralId | uuid | No | ✓ |  | Identificador de Referral |
| DateTimeRem | timestamp with time zone | No |  |  | Fecha y hora de la remisi&#243;n |
| DepartmentToId | uuid | No |  | ✓ | Identificador de DepartmentTo |
| ExternalMedicalPostId | uuid | No |  | ✓ | Identificador de ExternalMedicalPost |
| PatientId | uuid | No |  | ✓ | Identificador de Patient |

### Clave Primaria

- **Nombre:** `PK_Referral`
- **Columnas:** `ReferralId`

### Claves For&#225;neas

- **FK_Referral_Department_DepartmentToId**
  - Columnas: `DepartmentToId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_Referral_ExternalMedicalPost_ExternalMedicalPostId**
  - Columnas: `ExternalMedicalPostId`
  - Referencia: `ExternalMedicalPost` (`ExternalMedicalPostId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_Referral_Patient_PatientId**
  - Columnas: `PatientId`
  - Referencia: `Patient` (`PatientId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_Referral_DepartmentToId**
  - Columnas: `DepartmentToId`
  - Tipo: No &#250;nico

- **IX_Referral_ExternalMedicalPostId**
  - Columnas: `ExternalMedicalPostId`
  - Tipo: No &#250;nico

- **IX_Referral_PatientId_DateTimeRem_ExternalMedicalPostId**
  - Columnas: `PatientId`, `DateTimeRem`, `ExternalMedicalPostId`
  - Tipo: &#218;nico

### Relaciones

- **ConsultationReferrals** → `ConsultationReferral` (Uno a Muchos)
- **DepartmentTo** → `Department` (Muchos a Uno)
- **ExternalMedicalPost** → `ExternalMedicalPost` (Muchos a Uno)
- **Patient** → `Patient` (Muchos a Uno)

---

## StockDepartment

**Clase:** `StockDepartment`
**Esquema:** `public`
**Tabla:** `StockDepartment`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| StockDepartmentId | uuid | No | ✓ |  | Identificador de StockDepartment |
| DepartmentId | uuid | No |  | ✓ | Identificador de Department |
| MaxQuantity | integer | No |  |  | MaxQuantity |
| MedicationId | uuid | No |  | ✓ | Identificador de Medication |
| MinQuantity | integer | No |  |  | MinQuantity |
| Quantity | integer | No |  |  | Quantity |

### Clave Primaria

- **Nombre:** `PK_StockDepartment`
- **Columnas:** `StockDepartmentId`

### Claves For&#225;neas

- **FK_StockDepartment_Department_DepartmentId**
  - Columnas: `DepartmentId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_StockDepartment_Medication_MedicationId**
  - Columnas: `MedicationId`
  - Referencia: `Medication` (`MedicationId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_StockDepartment_MedicationId**
  - Columnas: `MedicationId`
  - Tipo: No &#250;nico

- **IX_StockDepartment_DepartmentId_MedicationId**
  - Columnas: `DepartmentId`, `MedicationId`
  - Tipo: &#218;nico

### Relaciones

- **Department** → `Department` (Muchos a Uno)
- **Medication** → `Medication` (Muchos a Uno)

---

## WarehouseManager

**Clase:** `WarehouseManager`
**Esquema:** `public`
**Tabla:** `WarehouseManager`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| EmployeeId | uuid | No | ✓ | ✓ | Identificador de Employee |
| AssignedAt | timestamp with time zone | No |  |  | AssignedAt |
| EmploymentStatus | character varying(50) | No |  |  | EmploymentStatus (Max: 50) |
| Identification | character varying(50) | No |  |  | N&#250;mero de identificaci&#243;n (Max: 50) |
| Name | character varying(200) | No |  |  | Nombre (Max: 200) |
| UserId | text | S&#237; |  | ✓ | Identificador de User |

### Clave Primaria

- **Nombre:** `PK_Employee`
- **Columnas:** `EmployeeId`

### Claves For&#225;neas

- **FK_Employee_Users_UserId**
  - Columnas: `UserId`
  - Referencia: `Users` (`Id`)
  - Acci&#243;n al eliminar: `SetNull`

- **FK_WarehouseManager_Employee_EmployeeId**
  - Columnas: `EmployeeId`
  - Referencia: `Employee` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Cascade`

### &#205;ndices

- **IX_Employee_Identification**
  - Columnas: `Identification`
  - Tipo: &#218;nico

- **IX_Employee_UserId**
  - Columnas: `UserId`
  - Tipo: &#218;nico

### Relaciones

- **WarehouseRequests** → `WarehouseRequest` (Uno a Muchos)

---

## WarehouseRequest

**Clase:** `WarehouseRequest`
**Esquema:** `public`
**Tabla:** `WarehouseRequest`

### Descripci&#243;n
Entidad del sistema Polyclinic.

### Columnas

| Columna | Tipo | Nullable | PK | FK | Descripci&#243;n |
|---------|------|----------|----|----|-------------|
| WarehouseRequestId | uuid | No | ✓ |  | Identificador de WarehouseRequest |
| DepartmentHeadId | uuid | S&#237; |  | ✓ | Identificador de DepartmentHead |
| DepartmentId | uuid | No |  | ✓ | Identificador de Department |
| RequestDate | timestamp with time zone | No |  |  | RequestDate |
| Status | character varying(100) | No |  |  | Status (Max: 100) |
| WarehouseManagerId | uuid | No |  | ✓ | Identificador de WarehouseManager |

### Clave Primaria

- **Nombre:** `PK_WarehouseRequest`
- **Columnas:** `WarehouseRequestId`

### Claves For&#225;neas

- **FK_WarehouseRequest_DepartmentHead_DepartmentHeadId**
  - Columnas: `DepartmentHeadId`
  - Referencia: `DepartmentHead` (`DepartmentHeadId`)
  - Acci&#243;n al eliminar: `ClientSetNull`

- **FK_WarehouseRequest_Department_DepartmentId**
  - Columnas: `DepartmentId`
  - Referencia: `Department` (`DepartmentId`)
  - Acci&#243;n al eliminar: `Restrict`

- **FK_WarehouseRequest_WarehouseManager_WarehouseManagerId**
  - Columnas: `WarehouseManagerId`
  - Referencia: `WarehouseManager` (`EmployeeId`)
  - Acci&#243;n al eliminar: `Restrict`

### &#205;ndices

- **IX_WarehouseRequest_DepartmentHeadId**
  - Columnas: `DepartmentHeadId`
  - Tipo: No &#250;nico

- **IX_WarehouseRequest_DepartmentId**
  - Columnas: `DepartmentId`
  - Tipo: No &#250;nico

- **IX_WarehouseRequest_WarehouseManagerId**
  - Columnas: `WarehouseManagerId`
  - Tipo: No &#250;nico

- **IX_WarehouseRequest_RequestDate_DepartmentId**
  - Columnas: `RequestDate`, `DepartmentId`
  - Tipo: &#218;nico

### Relaciones

- **Department** → `Department` (Muchos a Uno)
- **MedicationRequests** → `MedicationRequest` (Uno a Muchos)
- **WarehouseManager** → `WarehouseManager` (Muchos a Uno)

---

## Resumen de Relaciones

| Tabla Origen | Relaci&#243;n | Tabla Destino | Tipo |
|--------------|----------|---------------|------|
| ConsultationDerivation | DepartmentHeadId | DepartmentHead | N:1 |
| ConsultationDerivation | DerivationId | Derivation | N:1 |
| ConsultationDerivation | DoctorId | Doctor | N:1 |
| ConsultationDerivation | PatientId | Patient | N:1 |
| ConsultationReferral | DepartmentHeadId | DepartmentHead | N:1 |
| ConsultationReferral | DoctorId | Doctor | N:1 |
| ConsultationReferral | PatientId | Patient | N:1 |
| ConsultationReferral | ReferralId | Referral | N:1 |
| DepartmentHead | DepartmentId | Department | N:1 |
| DepartmentHead | DoctorId | Doctor | N:1 |
| Derivation | DepartmentFromId | Department | N:1 |
| Derivation | DepartmentToId | Department | N:1 |
| Derivation | PatientId | Patient | N:1 |
| Doctor | UserId | Users | 1:1 |
| Doctor | DepartmentId | Department | N:1 |
| Doctor | EmployeeId | Employee | 1:1 |
| EmergencyRoom | DoctorId | Doctor | N:1 |
| EmergencyRoomCare | EmergencyRoomId | EmergencyRoom | N:1 |
| EmergencyRoomCare | PatientId | Patient | N:1 |
| Employee | UserId | Users | 1:1 |
| MedicationDerivation | ConsultationDerivationId | ConsultationDerivation | N:1 |
| MedicationDerivation | MedicationId | Medication | N:1 |
| MedicationEmergency | EmergencyRoomCareId | EmergencyRoomCare | N:1 |
| MedicationEmergency | MedicationId | Medication | N:1 |
| MedicationReferral | ConsultationReferralId | ConsultationReferral | N:1 |
| MedicationReferral | MedicationId | Medication | N:1 |
| MedicationRequest | MedicationId | Medication | N:1 |
| MedicationRequest | WarehouseRequestId | WarehouseRequest | N:1 |
| Nurse | UserId | Users | 1:1 |
| Nurse | EmployeeId | Employee | 1:1 |
| Patient | UserId | Users | 1:1 |
| Referral | DepartmentToId | Department | N:1 |
| Referral | ExternalMedicalPostId | ExternalMedicalPost | N:1 |
| Referral | PatientId | Patient | N:1 |
| StockDepartment | DepartmentId | Department | N:1 |
| StockDepartment | MedicationId | Medication | N:1 |
| WarehouseManager | UserId | Users | 1:1 |
| WarehouseManager | EmployeeId | Employee | 1:1 |
| WarehouseRequest | DepartmentHeadId | DepartmentHead | N:1 |
| WarehouseRequest | DepartmentId | Department | N:1 |
| WarehouseRequest | WarehouseManagerId | WarehouseManager | N:1 |

</pre>
</body>
</html>